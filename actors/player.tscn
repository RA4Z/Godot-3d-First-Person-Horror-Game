[gd_scene load_steps=12 format=3 uid="uid://cd741hln44elx"]

[ext_resource type="Script" uid="uid://m7op7i3x5s66" path="res://scripts/player.gd" id="1_mvpqy"]
[ext_resource type="AudioStream" uid="uid://bfph6lqt073oh" path="res://audio/sounds/player/footstep2.mp3" id="2_tue77"]
[ext_resource type="AudioStream" uid="uid://ds5mqw8pxb5f1" path="res://audio/sounds/player/flashlight.mp3" id="3_1yqc4"]
[ext_resource type="AudioStream" uid="uid://dyil843avx5b5" path="res://audio/sounds/SFX/insert_battery.mp3" id="4_esgq3"]
[ext_resource type="PackedScene" uid="uid://wgnjsdv323ps" path="res://actors/player_skin.tscn" id="5_kjkj0"]
[ext_resource type="AnimationLibrary" uid="uid://bpvxydlwvf2s2" path="res://Player.res" id="6_tue77"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_e5uuo"]
radius = 0.34423828
height = 1.8

[sub_resource type="CapsuleMesh" id="CapsuleMesh_nnsk1"]
radius = 0.25
height = 1.0

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_33vod"]
streams_count = 2
stream_0/stream = ExtResource("2_tue77")

[sub_resource type="Animation" id="Animation_33vod"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../FootstepSound:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_er1rk"]
_data = {
&"RESET": SubResource("Animation_33vod")
}

[node name="Player" type="CharacterBody3D" groups=["player"]]
collision_layer = 8
collision_mask = 33
floor_constant_speed = true
floor_max_angle = 1.0471976
script = ExtResource("1_mvpqy")
metadata/_edit_group_ = true

[node name="collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.22060394, 0)
shape = SubResource("CapsuleShape3D_e5uuo")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_nnsk1")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8357042, -0.39694074)

[node name="Camera3D" type="Camera3D" parent="Head"]

[node name="Hand" type="Node3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.04100859, 0)

[node name="Flashlight" type="SpotLight3D" parent="Head/Camera3D/Hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.042594433, 0, 0.01685138)
light_color = Color(0.8082836, 0.9494316, 0.99802583, 1)
light_energy = 2.021
light_indirect_energy = 3.01
light_volumetric_fog_energy = 0.2
light_size = 0.6
shadow_enabled = true
spot_angle = 20.0

[node name="InteractionRay" type="RayCast3D" parent="Head/Camera3D"]
target_position = Vector3(0, 0, -1.5)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true

[node name="FootstepSound" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_33vod")
volume_db = -35.0

[node name="FlashlightSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_1yqc4")

[node name="InsertBattery" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("4_esgq3")
attenuation_model = 2

[node name="PlayerSkin" parent="." instance=ExtResource("5_kjkj0")]
transform = Transform3D(-1, 0, -1.509958e-07, 0, 1, 0, 1.509958e-07, 0, -1, 0, -0.66547835, 0)

[node name="Skeleton3D" parent="PlayerSkin" index="0"]
bones/0/position = Vector3(0.015304411, 0.9087927, 0.0031740628)
bones/0/rotation = Quaternion(0.03598869, 0.548678, -0.05403625, 0.8335091)
bones/1/rotation = Quaternion(0.002558045, -0.07402268, 0.023367299, 0.9969795)
bones/2/rotation = Quaternion(0.036952984, -0.051033605, 0.010880398, 0.9979538)
bones/3/rotation = Quaternion(0.036706667, -0.051217295, 0.010752406, 0.9979549)
bones/4/rotation = Quaternion(0.092223294, -0.05095501, -0.008806994, 0.9943948)
bones/5/rotation = Quaternion(-0.06959435, -0.2973011, 0.06381851, 0.95010316)
bones/7/rotation = Quaternion(-0.6228339, -0.3685901, 0.5571801, -0.40714818)
bones/8/rotation = Quaternion(0.35094243, 0.17690474, 0.28198928, 0.87522924)
bones/9/rotation = Quaternion(0.012345665, -0.0021107546, 0.12315959, 0.99230784)
bones/10/rotation = Quaternion(-0.03549757, 0.02541605, -0.03907675, 0.9982821)
bones/11/rotation = Quaternion(0.21281002, 0.0894221, 0.19721085, 0.9527978)
bones/12/rotation = Quaternion(-0.08246467, 0.14436243, -0.01787438, 0.9859207)
bones/13/rotation = Quaternion(-0.14537106, 0.14370354, 0.17456442, 0.9631947)
bones/15/rotation = Quaternion(0.21317947, -0.004640199, 0.049354326, 0.9757547)
bones/16/rotation = Quaternion(0.10433768, -7.4138516e-05, -0.017545601, 0.9943872)
bones/17/rotation = Quaternion(0.106427565, 0.00028493456, -0.014480964, 0.99421495)
bones/19/rotation = Quaternion(0.26117352, 0.0037068373, 0.0059415447, 0.9652666)
bones/20/rotation = Quaternion(0.16008334, 3.942777e-05, -0.026685799, 0.98674273)
bones/21/rotation = Quaternion(0.09596075, 0.00040086504, -0.009193826, 0.99534255)
bones/23/rotation = Quaternion(0.2700845, 0.0069587883, -0.030075237, 0.96234167)
bones/24/rotation = Quaternion(0.19964974, 0.0008421637, -0.029896507, 0.97941077)
bones/25/rotation = Quaternion(0.16893552, -0.00087488384, -0.016354064, 0.9854911)
bones/27/rotation = Quaternion(0.30391863, 0.0023405023, -0.015464169, 0.95256966)
bones/28/rotation = Quaternion(0.20584954, 0.00053418597, -0.032719344, 0.97803646)
bones/29/rotation = Quaternion(0.13628362, -0.0003107337, -0.012444668, 0.9905917)
bones/31/rotation = Quaternion(0.5682757, -0.41409242, 0.60519695, 0.37326515)
bones/32/rotation = Quaternion(0.4307892, -0.10466202, -0.06411911, 0.8940668)
bones/33/rotation = Quaternion(0.008164708, 0.0021424121, -0.08101748, 0.99667704)
bones/34/rotation = Quaternion(0.02256063, -0.0909211, 0.004532094, 0.99559224)
bones/35/rotation = Quaternion(0.09522673, -0.38791284, -0.2793142, 0.87317765)
bones/36/rotation = Quaternion(0.06801498, 0.017326508, 0.12507038, 0.9896622)
bones/37/rotation = Quaternion(-0.15879233, 0.08111364, -0.060975857, 0.9820833)
bones/39/rotation = Quaternion(0.20451814, 0.012544204, -0.10707811, 0.9729077)
bones/40/rotation = Quaternion(0.24677853, 0.00024058414, 0.028238298, 0.96866035)
bones/41/rotation = Quaternion(0.15812649, -0.00041784058, 0.016485864, 0.9872812)
bones/43/rotation = Quaternion(0.31136113, -0.00013893748, -0.03214756, 0.9497478)
bones/44/rotation = Quaternion(0.21681674, 0.0002539221, 0.026390322, 0.9758555)
bones/45/rotation = Quaternion(0.18098181, -0.00064360065, 0.018795209, 0.9833067)
bones/47/rotation = Quaternion(0.27589178, 0.001484544, -0.01529324, 0.9610659)
bones/48/rotation = Quaternion(0.2749191, -0.000829867, 0.031569786, 0.96094865)
bones/49/rotation = Quaternion(0.28973675, 0.000835257, 0.028188607, 0.9566908)
bones/51/rotation = Quaternion(0.25079295, -0.00013114253, -0.024469579, 0.9677314)
bones/52/rotation = Quaternion(0.20210987, -0.00025725062, 0.026440494, 0.9790059)
bones/53/rotation = Quaternion(0.21643351, -0.00032619693, 0.01694769, 0.9761502)
bones/55/rotation = Quaternion(0.12619199, 0.21131021, 0.96875966, -0.030468108)
bones/56/rotation = Quaternion(-0.5499897, 0.027592966, -0.03825299, 0.8338386)
bones/57/rotation = Quaternion(0.47269216, 0.011758556, 0.05247605, 0.8795852)
bones/58/rotation = Quaternion(0.40758285, -0.072075844, 0.025643619, 0.9099582)
bones/60/rotation = Quaternion(-0.010129496, 0.22626442, 0.97370034, -0.024690859)
bones/61/rotation = Quaternion(-0.24767497, -0.04270601, 0.028099518, 0.9674936)
bones/62/rotation = Quaternion(0.5337328, -0.016342236, -0.054639056, 0.843728)
bones/63/rotation = Quaternion(0.3640647, 0.076918796, -0.023437345, 0.927896)

[node name="Ch18" parent="PlayerSkin/Skeleton3D" index="0"]
layers = 2

[node name="AnimationPlayer" parent="PlayerSkin" index="1"]
libraries = {
&"": SubResource("AnimationLibrary_er1rk"),
&"Player": ExtResource("6_tue77")
}

[editable path="PlayerSkin"]
