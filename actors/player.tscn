[gd_scene load_steps=12 format=3 uid="uid://cd741hln44elx"]

[ext_resource type="Script" uid="uid://m7op7i3x5s66" path="res://scripts/player.gd" id="1_mvpqy"]
[ext_resource type="AudioStream" uid="uid://bfph6lqt073oh" path="res://audio/sounds/player/footstep2.mp3" id="2_tue77"]
[ext_resource type="AudioStream" uid="uid://ds5mqw8pxb5f1" path="res://audio/sounds/player/flashlight.mp3" id="3_1yqc4"]
[ext_resource type="AudioStream" uid="uid://dyil843avx5b5" path="res://audio/sounds/SFX/insert_battery.mp3" id="4_esgq3"]
[ext_resource type="PackedScene" uid="uid://wgnjsdv323ps" path="res://actors/player_skin.tscn" id="5_kjkj0"]
[ext_resource type="AnimationLibrary" uid="uid://bpvxydlwvf2s2" path="res://Player.res" id="6_tue77"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_e5uuo"]
radius = 0.34423828
height = 1.8

[sub_resource type="CapsuleMesh" id="CapsuleMesh_nnsk1"]
radius = 0.25
height = 1.0

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_33vod"]
streams_count = 2
stream_0/stream = ExtResource("2_tue77")

[sub_resource type="Animation" id="Animation_33vod"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../FootstepSound:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_er1rk"]
_data = {
&"RESET": SubResource("Animation_33vod")
}

[node name="Player" type="CharacterBody3D" groups=["player"]]
collision_layer = 8
collision_mask = 33
floor_constant_speed = true
floor_max_angle = 1.0471976
script = ExtResource("1_mvpqy")
metadata/_edit_group_ = true

[node name="collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.22060394, -0.13751012)
shape = SubResource("CapsuleShape3D_e5uuo")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_nnsk1")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8357042, -0.39694074)

[node name="Camera3D" type="Camera3D" parent="Head"]

[node name="Hand" type="Node3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.04100859, 0)

[node name="Flashlight" type="SpotLight3D" parent="Head/Camera3D/Hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.042594433, 0, 0.01685138)
light_color = Color(0.8082836, 0.9494316, 0.99802583, 1)
light_energy = 2.021
light_indirect_energy = 3.01
light_volumetric_fog_energy = 0.2
light_size = 0.6
shadow_enabled = true
spot_angle = 20.0

[node name="InteractionRay" type="RayCast3D" parent="Head/Camera3D"]
target_position = Vector3(0, 0, -1.5)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true

[node name="FootstepSound" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_33vod")
volume_db = -35.0

[node name="FlashlightSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_1yqc4")

[node name="InsertBattery" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("4_esgq3")
attenuation_model = 2

[node name="PlayerSkin" parent="." instance=ExtResource("5_kjkj0")]
transform = Transform3D(-1, 0, -1.509958e-07, 0, 1, 0, 1.509958e-07, 0, -1, 0, -0.66547835, 0)

[node name="Skeleton3D" parent="PlayerSkin" index="0"]
bones/0/position = Vector3(0.00088942616, 0.93612075, 0.0035345946)
bones/0/rotation = Quaternion(-0.03136248, -0.046525378, -0.02790885, 0.99803454)
bones/1/rotation = Quaternion(-0.02148836, 0.0116811795, 0.02147914, 0.9994702)
bones/2/rotation = Quaternion(0.010091152, 0.0014384391, 0.013795428, 0.9998529)
bones/3/rotation = Quaternion(0.0098680435, 0.001630095, 0.013843241, 0.99985427)
bones/4/rotation = Quaternion(0.09956325, -0.0010807177, 0.0038795169, 0.99502313)
bones/5/rotation = Quaternion(-0.06595839, 0.01193265, -0.0014932796, 0.9977499)
bones/7/rotation = Quaternion(-0.67955106, -0.32525256, 0.5154874, -0.40828174)
bones/8/rotation = Quaternion(0.48257467, 0.1421605, 0.059314605, 0.8622029)
bones/9/rotation = Quaternion(0.0012698509, -0.0021269345, 0.012671498, 0.9999167)
bones/10/rotation = Quaternion(0.07099383, -0.24637051, -0.021984475, 0.966322)
bones/11/rotation = Quaternion(0.17281167, 0.079313084, 0.1903224, 0.96313184)
bones/12/rotation = Quaternion(-0.09720611, 0.07582182, -0.17267072, 0.97723436)
bones/13/rotation = Quaternion(-0.13265936, -0.069299206, 0.10100519, 0.98356354)
bones/15/rotation = Quaternion(0.057296447, 0.0033997032, 0.05846505, 0.9966381)
bones/16/rotation = Quaternion(0.15048215, -0.00013855008, -0.02361688, 0.98833066)
bones/17/rotation = Quaternion(0.06984259, 0.00018101481, -0.009652614, 0.9975114)
bones/19/rotation = Quaternion(0.12687902, 0.0019208394, 0.024766332, 0.9916072)
bones/20/rotation = Quaternion(0.15074068, 3.4523895e-05, -0.025461698, 0.9882454)
bones/21/rotation = Quaternion(0.15938985, 0.00057052734, -0.017584441, 0.98705894)
bones/23/rotation = Quaternion(0.17346157, -0.0023403708, 0.009136795, 0.9847956)
bones/24/rotation = Quaternion(0.18044953, 0.0007537757, -0.027116213, 0.98321015)
bones/25/rotation = Quaternion(0.15439846, -0.00083541824, -0.014218871, 0.987906)
bones/27/rotation = Quaternion(0.22340776, 0.0008710037, -0.009221537, 0.9746811)
bones/28/rotation = Quaternion(0.15047199, 0.00034292304, -0.024707656, 0.98830545)
bones/29/rotation = Quaternion(0.1427444, -0.00031808802, -0.013391835, 0.989669)
bones/31/rotation = Quaternion(0.6768151, -0.3259705, 0.534681, 0.3870152)
bones/32/rotation = Quaternion(0.4121485, -0.23160738, -0.08590667, 0.87699026)
bones/33/rotation = Quaternion(0.005853861, 0.0021458322, -0.058086116, 0.99829215)
bones/34/rotation = Quaternion(0.07231256, 0.13043968, 0.048833255, 0.9876091)
bones/35/rotation = Quaternion(0.17686379, -0.07176888, -0.21474285, 0.95783824)
bones/36/rotation = Quaternion(-0.089846, -0.06260952, 0.22740725, 0.96762276)
bones/37/rotation = Quaternion(-0.16576707, 0.06447698, -0.12297725, 0.9763404)
bones/39/rotation = Quaternion(0.05346125, -0.0037603215, -0.06465517, 0.99646753)
bones/40/rotation = Quaternion(0.15102291, 0.00012146903, 0.018651228, 0.9883543)
bones/41/rotation = Quaternion(0.07009372, -0.00017217298, 0.007618714, 0.9975113)
bones/43/rotation = Quaternion(0.12405274, -0.0030123696, -0.03433226, 0.9916769)
bones/44/rotation = Quaternion(0.15130325, 0.000121882316, 0.019950125, 0.98828614)
bones/45/rotation = Quaternion(0.15998486, -0.0005618541, 0.016717108, 0.98697776)
bones/47/rotation = Quaternion(0.17101917, 0.0020241516, -0.019392617, 0.98507476)
bones/48/rotation = Quaternion(0.18115433, -0.0005447924, 0.02083981, 0.9832338)
bones/49/rotation = Quaternion(0.1550085, 0.00055620086, 0.012571098, 0.987833)
bones/51/rotation = Quaternion(0.22154753, -0.0047917236, -0.004420269, 0.9751278)
bones/52/rotation = Quaternion(0.15118358, -0.00012818187, 0.02102497, 0.9882821)
bones/53/rotation = Quaternion(0.14342459, -0.00026044718, 0.009023396, 0.9896201)
bones/55/rotation = Quaternion(0.13354212, 0.064796895, 0.9854392, -0.08293182)
bones/56/rotation = Quaternion(-0.11481484, -0.01670936, 0.019140122, 0.9930619)
bones/57/rotation = Quaternion(0.4636172, -0.028180417, -0.011992237, 0.88550615)
bones/58/rotation = Quaternion(0.3662699, -0.07530055, 0.024225669, 0.92714053)
bones/60/rotation = Quaternion(-0.08590476, -0.036181547, 0.99541736, -0.021343462)
bones/61/rotation = Quaternion(-0.042529885, 0.08574814, -0.008711527, 0.99537057)
bones/62/rotation = Quaternion(0.50037897, 0.0182325, -0.027724802, 0.86517036)
bones/63/rotation = Quaternion(0.37433577, 0.07761299, -0.023209468, 0.923748)

[node name="Ch18" parent="PlayerSkin/Skeleton3D" index="0"]
layers = 2

[node name="AnimationPlayer" parent="PlayerSkin" index="1"]
libraries = {
&"": SubResource("AnimationLibrary_er1rk"),
&"Player": ExtResource("6_tue77")
}

[editable path="PlayerSkin"]
